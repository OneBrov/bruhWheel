(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{15:function(e,t,a){e.exports={btn:"Navbar_btn__3pYpp",collapseIcon:"Navbar_collapseIcon__1YDxa"}},16:function(e,t,a){e.exports={barContainer:"SliderWithText_barContainer__zrHp0",slider:"SliderWithText_slider__Olk55"}},17:function(e,t,a){e.exports={wheel:"Wheel_wheel__2HQxl",winnerArrow:"Wheel_winnerArrow__1ZE7r",wheelContainer:"Wheel_wheelContainer__1g5Hd"}},27:function(e,t,a){e.exports={gameDesc:"GameCard_gameDesc__1Xvat"}},36:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){e.exports={barContainer:"TwoEndSlider_barContainer__3nJ4T"}},60:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(8),r=a.n(s),l=a(4),i=a(5),o=a(2),u=Object(i.b)({name:"settings",initialState:{value:"https://onebruh.pythonanywhere.com/api/game?countGames=3&priceMore=0&priceLess=100000"},reducers:{setNewSettings:function(e,t){e.value=t.payload},setSettingsByObject:function(e,t){for(var a="https://onebruh.pythonanywhere.com/api/game?",n=!0,c=0,s=Object.entries(t.payload);c<s.length;c++){var r=Object(o.a)(s[c],2),l=r[0],i=r[1];n||(a+="&"),n=!1,a+="".concat(l,"=").concat(i)}e.value=a}}}),d=u.actions,h=(d.setNewSettings,d.setSettingsByObject),j=u.reducer,b=Object(i.b)({name:"roll",initialState:{value:!1},reducers:{setRollFalse:function(e){e.value=!1},setRollTrue:function(e){e.value=!0}}}),m=b.actions,g=m.setRollFalse,x=m.setRollTrue,p=b.reducer,v=Object(i.b)({name:"winner",initialState:{value:-1},reducers:{setNewWinner:function(e,t){e.value=t.payload},clearWinner:function(e){e.value=-1}}}),f=v.actions,O=f.setNewWinner,w=(f.clearWinner,v.reducer),N=Object(i.a)({reducer:{settings:j,roll:p,winner:w}}),y=(a(36),a(37),a(6)),_=a.n(y),S=a(9),C=a(10),k=a.n(C),W=(a(57),a.p+"static/media/settings.dcd0b939.svg"),V=a.p+"static/media/about.636ba72a.svg",T=a.p+"static/media/collapseIcon.cbc28786.svg",B=a(15),I=a.n(B),M=a(0);var P=function(e){var t=e.onToggleSettings;return Object(M.jsx)("nav",{className:"d-flex text-light p-3  navbar navbar-expand-lg",children:Object(M.jsxs)("div",{className:"container-fluid",children:[Object(M.jsx)("span",{className:"d-inline fs-2 me-4 navbar-brand",children:"BruhWheel"}),Object(M.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarItems","aria-controls":"navbarItems","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(M.jsx)("span",{children:Object(M.jsx)("img",{width:24,height:24,src:T,alt:"Collapse"})})}),Object(M.jsxs)("div",{id:"navbarItems",className:"collapse navbar-collapse",children:[Object(M.jsx)("div",{className:" my-2",children:Object(M.jsx)("ul",{onClick:t,className:"list-unstyled fs-2 d-flex justify-content-center",children:Object(M.jsxs)("li",{className:"p-0 fs-4 me-4 btn text-light d-flex ".concat(I.a.btn),children:["Settings ",Object(M.jsx)("img",{className:"ms-2 my-auto",src:W,alt:"Settings"})]})})}),Object(M.jsx)("div",{className:"my-2",children:Object(M.jsx)("ul",{className:"list-unstyled fs-2 d-flex justify-content-center",children:Object(M.jsxs)("li",{onClick:function(){return window.location.href="#footer"},className:"p-0 fs-4 me-4 btn text-light d-flex ".concat(I.a.btn),children:["About ",Object(M.jsx)("img",{className:"ms-2 my-auto",src:V,height:24,width:24,alt:"Settings"})]})})})]})]})})};var R=function(){return Object(M.jsx)("footer",{id:"footer",className:"bg-dark mt-4 text-center text-light px-5",children:Object(M.jsxs)("div",{id:"about",className:"container-fluid",children:[Object(M.jsx)("h3",{children:"Why BruhWheel?"}),Object(M.jsx)("p",{children:"It's just 4 fun site. Bruh - it's my nickname, Wheel - it's a way to get a random game.  BruhWheel can help you choose a game from Steam. Just push a roll button."}),Object(M.jsx)("h3",{children:"How it work?"}),Object(M.jsx)("p",{children:"All games come from SteamAPI or steam SPY API and from some different API. And library of the Bruh Wheel large as steam library large."}),Object(M.jsxs)("p",{children:["If you want you can see ",Object(M.jsx)("a",{className:"link-success",target:"_blank",rel:"noreferrer",href:"https://github.com/OneBrov/bruhWheel",children:"source of the code"})]})]})})},E=a(26),G=a(7),A=a.n(G),D=a(16),H=a.n(D);var L=function(e){var t=e.name,a=e.myValue,n=e.maxValue,s=e.minValue,r=e.changeValue,l=c.a.useState(""),i=Object(o.a)(l,2),u=i[0],d=i[1],h=function(e){e.target.value>=s&&e.target.value<=n?d(""):d("The value mast be in range ".concat(s," to ").concat(n)),r(e.target.value)};return Object(M.jsxs)("div",{className:"row",children:[Object(M.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[Object(M.jsx)("label",{children:t}),Object(M.jsx)("input",{name:t,onChange:h,type:"number",value:a,min:s,max:n})]}),Object(M.jsxs)("div",{className:"d-flex justify-content-center ".concat(H.a.barContainer),children:[Object(M.jsxs)("p",{children:[" ",s]}),Object(M.jsx)("input",{onChange:h,className:"d-flex mx-3  ".concat(H.a.slider),value:a,placeholder:"3",type:"range",min:s,max:n,step:"1"}),Object(M.jsxs)("p",{children:[" ",n]})]}),u.length?Object(M.jsx)("div",{className:"alert alert-danger",role:"alert",children:u}):Object(M.jsx)(M.Fragment,{})]})};a(59);var F=function(e){var t=e.name,a=e.leftValue,n=e.rightValue,s=e.maxValue,r=e.minValue,l=e.changeLeftValue,i=e.changeRightValue,u=c.a.useState(""),d=Object(o.a)(u,2),h=d[0],j=d[1];return Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[Object(M.jsx)("label",{className:"me-3",children:t}),Object(M.jsx)("label",{children:"Min"}),Object(M.jsx)("input",{name:t,onChange:function(e){e.target.value>=r&&e.target.value<=s&&a<=n?j(""):j("Left value must be in range ".concat(r," to ").concat(s," and less than right value=").concat(n)),l(e.target.value)},className:"mx-2 w-100",type:"number",value:a,min:r,max:s}),Object(M.jsx)("p",{className:"align-center m-0 my-auto mx-2",children:"-"}),Object(M.jsx)("input",{name:t,onChange:function(e){e.target.value>=r&&e.target.value<=s&&a<=n?j(""):j("Right value must be in range ".concat(r," to ").concat(s," and more than left value=").concat(a)),i(e.target.value)},className:"mx-2 w-100",type:"number",value:n,min:r,max:s}),Object(M.jsx)("label",{children:"Max"})]}),h.length?Object(M.jsx)("div",{className:"alert alert-danger",role:"alert",children:h}):Object(M.jsx)(M.Fragment,{})]})},J=a.p+"static/media/exit.3ac220a8.svg";var Y=function(e){var t=e.settingsOpen,a=e.onToggleSettings,n=c.a.useState(3),s=Object(o.a)(n,2),r=s[0],i=s[1],u=c.a.useState(9999),d=Object(o.a)(u,2),j=d[0],b=d[1],m=c.a.useState(0),g=Object(o.a)(m,2),x=g[0],p=g[1],v=c.a.useState([]),f=Object(o.a)(v,2),O=f[0],w=f[1],N=Object(l.b)(),y=c.a.useRef(null);return c.a.useEffect((function(){(function(){var e=Object(S.a)(_.a.mark((function e(){var t,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k()({method:"GET",url:"https://onebruh.pythonanywhere.com/api/genre/all/"});case 3:t=e.sent,a=t.data,w(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Oops!!! ".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(M.jsxs)("div",{className:"".concat(A.a.overlay," ").concat(t?A.a.overlayVisible:""),children:[Object(M.jsxs)("div",{className:"".concat(A.a.settings," p-4"),children:[Object(M.jsxs)("div",{className:"d-flex justify-content-between pb-4",children:[Object(M.jsx)("h3",{children:"Settings:"}),Object(M.jsx)("img",{onClick:a,className:"my-auto  ".concat(A.a.close),width:24,height:24,src:J,alt:"Exit"})]}),Object(M.jsx)("h1",{children:" Wheel settings!"}),Object(M.jsxs)("form",{ref:y,id:"settingsForm",onSubmit:function(){return!1},action:"?",children:[Object(M.jsx)(L,{name:"Count Games:",myValue:r,maxValue:20,minValue:3,changeValue:i}),Object(M.jsx)(F,{name:"Price:",leftValue:x,rightValue:j,maxValue:9999,minValue:0,changeLeftValue:p,changeRightValue:b}),Object(M.jsxs)("div",{className:"row mb-3 ",children:[Object(M.jsx)("label",{children:"Genres:"}),Object(M.jsx)("select",{className:"",multiple:!0,name:"genres",children:O.length&&O.map((function(e){return Object(M.jsx)("option",{children:e.genre},e.id)}))})]})]}),Object(M.jsx)("div",{className:"row",children:Object(M.jsx)("button",{type:"submit",onClick:function(){if(r>=3&&r<=20&&j>=x&&j<=9999&&x>=0){var e,t=[],n=Object(E.a)(y.current.elements.genres);try{for(n.s();!(e=n.n()).done;){var c=e.value;c.selected&&t.push(encodeURIComponent(c.value))}}catch(l){n.e(l)}finally{n.f()}var s={countGames:r,priceLess:j,priceMore:x,genres:t.join(",")};N(h(s)),a()}else console.log("Form is not valid!!! Please try again")},className:"btn btn-dark",children:"Submit"})})]}),Object(M.jsx)("div",{onClick:a,className:A.a.outside})]})},z=a(17),K=a.n(z);var Q=function(e){var t=e.games,a=e.spinningTime,n=c.a.useRef(null);return c.a.useEffect((function(){!function(e){var t=n.current,a=t.getContext("2d"),c=t.width/2,s=c,r=c;a.lineWidth=3;for(var l=2*Math.PI/e,i=0;i<e;i++){a.beginPath(),a.moveTo(s,r),a.arc(s,r,c,i*l,(i+1)*l,!1);var o=15*i;a.fillStyle="hsl("+o+",70%, 60%)",a.fill(),a.strokeStyle="#444",a.stroke(),a.lineWidth=2,a.closePath()}}(t.length),function(e){var t=n.current,a=t.getContext("2d"),c=t.width/2,s=c,r=c;a.font=c/10+"px Helvetica",e.length>=12&&(a.font=c/16+"px Helvetica"),a.textAlign="left",a.strokeStyle="black",a.fillStyle="white",a.lineWidth=4,a.save(),a.translate(s,r);var l=360/e.length;a.rotate(-l/2*Math.PI/180);for(var i=0;i<e.length;i++){var o=e[i].name;o.length>15&&(o=o.slice(0,12)+"..."),a.strokeText(o,0+c/4,5,c-c/4),a.fillText(o,0+c/4,5,c-c/4),a.rotate(-l*Math.PI/180)}a.restore()}(t)}),[t]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("canvas",{id:"wheel-canvas",className:"m-auto d-block ".concat(K.a.wheel),height:1e3,width:1e3,ref:n,style:{transition:"all cubic-bezier(0.23, 0.64, 0.36, 1) ".concat(a)}}),Object(M.jsx)("div",{className:K.a.winnerArrow})]})},U=a(27),X=a.n(U);var Z=function(e){var t=e.game,a=e.picHeight,n=void 0===a?100:a,c=e.descriptionCollapse,s=void 0!==c&&c;return Object(M.jsxs)("div",{className:"flex-column p-2 ".concat(X.a.gameDesc),children:[Object(M.jsx)("img",{className:"mx-auto d-block my-3 ",height:n,src:"https://steamcdn-a.akamaihd.net/steam/apps/".concat(t.appid,"/header.jpg"),alt:"Rolled game"}),Object(M.jsx)("h3",{children:t.name}),s&&Object(M.jsx)("button",{className:"btn btn-light d-block p-1 w-100 mx-auto mb-2",type:"button","data-bs-toggle":"collapse","data-bs-target":"#gameDesc".concat(t.appid),"aria-expanded":"false","aria-controls":"gameDesc".concat(t.appid),children:"Toggle description"}),Object(M.jsxs)("div",{className:s?"collapse":"",id:s?"gameDesc".concat(t.appid):"",children:[Object(M.jsxs)("p",{children:[" BruhPoints: ",t.bruh_points]}),Object(M.jsxs)("p",{children:[" Positive reviews: ",t.possitive_count," "]}),Object(M.jsxs)("p",{children:[" Negative reviews: ",t.negative_count," "]}),Object(M.jsxs)("p",{children:[" Metascore: ",t.metascore," "]}),Object(M.jsxs)("p",{children:[" Sold copies: ",t.owners_count," "]}),Object(M.jsxs)("p",{children:[" Price: ",t.ru_price," Rub"]}),Object(M.jsxs)("p",{children:[" Developer: ",t.developer," "]}),Object(M.jsxs)("p",{children:[" Publisher: ",t.publisher," "]}),Object(M.jsxs)("p",{children:[" Duration: ",t.duration," ",t.time_unit," ",t.label]}),Object(M.jsxs)("p",{children:[" HLTB: ",Object(M.jsxs)("a",{className:"link-light",rel:"noreferrer",href:t.hltb_link,target:"_blank",children:[" ",t.name]}),"  "]}),Object(M.jsxs)("p",{children:[" Steam: ",Object(M.jsxs)("a",{className:"link-light",rel:"noreferrer",href:"https://store.steampowered.com/app/".concat(t.appid),target:"_blank",children:[" ",t.name," "]})]}),Object(M.jsxs)("p",{children:[" Languages: ",t.languages.join(", ")," "]}),Object(M.jsxs)("p",{children:[" Genres: ",t.genres.join(", ")," "]}),Object(M.jsxs)("p",{children:[" Tags: ",t.tags.join(", ")," "]})]})]})};var q=function(){var e=c.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],s=c.a.useState([]),r=Object(o.a)(s,2),i=r[0],u=r[1],d=c.a.useState(0),h=Object(o.a)(d,2),j=h[0],b=h[1],m=Object(l.c)((function(e){return e.settings.value})),p=Object(l.c)((function(e){return e.roll.value})),v=Object(l.c)((function(e){return e.winner.value})),f=Object(l.b)();return c.a.useEffect((function(){!0!==p&&i.length||function(){var e=Object(S.a)(_.a.mark((function e(){var t,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k()({method:"GET",url:m});case 3:t=e.sent,a=t.data,u(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Cant get games with the given parameters! ".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[m,p]),c.a.useEffect((function(){if(!0===p){var e=(c=0,s=i.length-1,Math.floor(Math.random()*(s-c+1)+c)),t=function(e,t,a,n){var c=Math.floor(Math.random()*(t-e))+e,s=360/a*n,r=360/a*(n+1);return(c*=360)+(Math.floor(Math.random()*(r-s))+s)+1}(10,30,i.length,e),a=j+t;document.getElementById("wheel-canvas").style.transform="rotate("+a+"deg)";var n=~~(a%360/(360/i.length));setTimeout((function(){f(g()),f(O(n))}),5e3),b(a)}var c,s}),[i]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Y,{onToggleSettings:function(){return n(!1)},settingsOpen:a}),Object(M.jsx)(P,{onToggleSettings:function(){return n(!0)}}),Object(M.jsx)("div",{className:"container-fluid bg-gradient text-light bg-dark",children:Object(M.jsxs)("div",{className:"row",children:[Object(M.jsxs)("div",{id:"leftColumn",className:"col-lg-3 ",children:[Object(M.jsx)("h2",{className:"text-center pb-4",children:"Rolled game"}),Object(M.jsx)("div",{className:"shadowBox winnerGame ".concat(p?"":"winnerGameVisible"),children:v>=0&&i[v]?Object(M.jsx)(Z,{game:i[v],picHeight:window.innerWidth>=1400?140:window.innerWidth>=1200?120:window.innerWidth>=992?90:window.innerWidth>=768?250:window.innerWidth>=576?200:100,descriptionCollapse:!1}):""})]}),Object(M.jsxs)("div",{id:"midColumn",className:"col-lg-6 mb-4",children:[Object(M.jsx)("h2",{className:"text-center pb-4",children:"Wheel"}),Object(M.jsxs)("div",{className:"shadowBox p-3 position-relative w-100 overflow-hidden",children:[Object(M.jsx)(Q,{spinningTime:"5s",games:i}),Object(M.jsx)("button",{onClick:function(){return f(x())},className:"rollButton btn p-0 ".concat(p?"rollButtonNotActive":""),children:p?"Rolling":"Roll"})]})]}),Object(M.jsxs)("div",{id:"rightColumn",className:"col-lg-3 col",children:[Object(M.jsx)("h2",{className:"text-center pb-4",children:"Game list"}),Object(M.jsxs)("div",{className:"shadowBox",children:[console.log(i.map((function(e){return e.name+" "}))),i?i.map((function(e){return Object(M.jsx)(Z,{game:e,picHeight:100,descriptionCollapse:!0},e.id)})):""]})]})]})}),Object(M.jsx)(R,{})]})};r.a.render(Object(M.jsx)(c.a.StrictMode,{children:Object(M.jsx)(l.a,{store:N,children:Object(M.jsx)(q,{})})}),document.getElementById("root"))},7:function(e,t,a){e.exports={overlay:"SettingsCanvas_overlay__3tMbo",settings:"SettingsCanvas_settings__3LEWi",outside:"SettingsCanvas_outside__1nfoK",overlayVisible:"SettingsCanvas_overlayVisible__2iL1V",close:"SettingsCanvas_close__Tn6DG"}}},[[60,1,2]]]);
//# sourceMappingURL=main.8a1ceb3d.chunk.js.map