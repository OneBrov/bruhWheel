(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{15:function(e,t,n){e.exports={btn:"Navbar_btn__3pYpp"}},16:function(e,t,n){e.exports={barContainer:"SliderWithText_barContainer__zrHp0",slider:"SliderWithText_slider__Olk55"}},26:function(e,t,n){e.exports={gameDesc:"GameCard_gameDesc__1Xvat"}},35:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){e.exports={barContainer:"TwoEndSlider_barContainer__3nJ4T"}},59:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(8),i=n.n(s),r=n(4),l=n(5),o=n(2),u=Object(l.b)({name:"settings",initialState:{value:"http://127.0.0.1:8000/api/game?countGames=3&priceMore=0&priceLess=100000"},reducers:{setNewSettings:function(e,t){e.value=t.payload},setSettingsByObject:function(e,t){for(var n="http://127.0.0.1:8000/api/game?",a=!0,c=0,s=Object.entries(t.payload);c<s.length;c++){var i=Object(o.a)(s[c],2),r=i[0],l=i[1];a||(n+="&"),a=!1,n+="".concat(r,"=").concat(l)}e.value=n}}}),d=u.actions,j=(d.setNewSettings,d.setSettingsByObject),h=u.reducer,b=Object(l.b)({name:"roll",initialState:{value:!1},reducers:{setRollFalse:function(e){e.value=!1},setRollTrue:function(e){e.value=!0}}}),m=b.actions,g=m.setRollFalse,x=m.setRollTrue,p=b.reducer,v=Object(l.b)({name:"winner",initialState:{value:-1},reducers:{setNewWinner:function(e,t){e.value=t.payload},clearWinner:function(e){e.value=-1}}}),f=v.actions,O=f.setNewWinner,w=(f.clearWinner,v.reducer),N=Object(l.a)({reducer:{settings:h,roll:p,winner:w}}),y=(n(35),n(36),n(6)),S=n.n(y),_=n(9),k=n(10),C=n.n(k),V=(n(56),n.p+"static/media/settings.dcd0b939.svg"),T=n.p+"static/media/about.636ba72a.svg",W=n(15),B=n.n(W),M=n(0);var P=function(e){var t=e.onToggleSettings;return Object(M.jsxs)("nav",{className:"d-flex text-light p-3 justify-content-between",children:[Object(M.jsx)("div",{children:Object(M.jsxs)("ul",{className:"list-unstyled fs-2",children:[Object(M.jsx)("li",{className:"d-inline fs-2 me-4 ",children:"BruhWheel"}),Object(M.jsxs)("li",{onClick:t,className:"d-inline fs-4 me-4 btn text-light ".concat(B.a.btn),children:["Settings ",Object(M.jsx)("img",{src:V,alt:"Settings"})," "]})]})}),Object(M.jsx)("div",{children:Object(M.jsx)("ul",{className:"list-unstyled my-auto fs-2",children:Object(M.jsx)("li",{className:"d-inline fs-4 btn text-light ".concat(B.a.btn),children:Object(M.jsxs)("a",{href:"#footer",children:["About ",Object(M.jsx)("img",{width:24,height:24,src:T,alt:"About"})," "]})})})})]})};var R=function(){return Object(M.jsx)("footer",{id:"footer",className:"bg-dark text-center text-light px-5",children:Object(M.jsxs)("div",{id:"about",className:"container-fluid",children:[Object(M.jsx)("h3",{children:"Why BruhWheel?"}),Object(M.jsx)("p",{children:"It's just 4 fun site. Bruh - it's my nickname, Wheel - it's a way to get a random game.  BruhWheel can help you choose a game from Steam. Just push a roll button."}),Object(M.jsx)("h3",{children:"How it work?"}),Object(M.jsx)("p",{children:"All games come from SteamAPI or steam SPY API and from some different API. And library of the Bruh Wheel large as steam library large."}),Object(M.jsxs)("p",{children:[" And if u wanna see source of the code click ",Object(M.jsx)("a",{className:"link-success",target:"_blank",rel:"noreferrer",href:"https://github.com/OneBrov/GameWheel",children:"here"})]})]})})},G=n(25),E=n(7),A=n.n(E),I=n(16),D=n.n(I);var L=function(e){var t=e.name,n=e.myValue,a=e.maxValue,s=e.minValue,i=e.changeValue,r=c.a.useState(""),l=Object(o.a)(r,2),u=l[0],d=l[1],j=function(e){e.target.value>=s&&e.target.value<=a?d(""):d("The value mast be in range ".concat(s," to ").concat(a)),i(e.target.value)};return Object(M.jsxs)("div",{className:"row",children:[Object(M.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[Object(M.jsx)("label",{children:t}),Object(M.jsx)("input",{name:t,onChange:j,type:"number",value:n,min:s,max:a})]}),Object(M.jsxs)("div",{className:"d-flex justify-content-center ".concat(D.a.barContainer),children:[Object(M.jsxs)("p",{children:[" ",s]}),Object(M.jsx)("input",{onChange:j,className:"d-flex mx-3  ".concat(D.a.slider),value:n,placeholder:"3",type:"range",min:s,max:a,step:"1"}),Object(M.jsxs)("p",{children:[" ",a]})]}),u.length?Object(M.jsx)("div",{className:"alert alert-danger",role:"alert",children:u}):Object(M.jsx)(M.Fragment,{})]})};n(58);var F=function(e){var t=e.name,n=e.leftValue,a=e.rightValue,s=e.maxValue,i=e.minValue,r=e.changeLeftValue,l=e.changeRightValue,u=c.a.useState(""),d=Object(o.a)(u,2),j=d[0],h=d[1];return Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[Object(M.jsx)("label",{className:"me-3",children:t}),Object(M.jsx)("label",{children:"Min"}),Object(M.jsx)("input",{name:t,onChange:function(e){e.target.value>=i&&e.target.value<=s&&n<=a?h(""):h("Left value must be in range ".concat(i," to ").concat(s," and less than right value=").concat(a)),r(e.target.value)},className:"mx-2 w-100",type:"number",value:n,min:i,max:s}),Object(M.jsx)("p",{className:"align-center m-0 my-auto mx-2",children:"-"}),Object(M.jsx)("input",{name:t,onChange:function(e){e.target.value>=i&&e.target.value<=s&&n<=a?h(""):h("Right value must be in range ".concat(i," to ").concat(s," and more than left value=").concat(n)),l(e.target.value)},className:"mx-2 w-100",type:"number",value:a,min:i,max:s}),Object(M.jsx)("label",{children:"Max"})]}),j.length?Object(M.jsx)("div",{className:"alert alert-danger",role:"alert",children:j}):Object(M.jsx)(M.Fragment,{})]})},H=n.p+"static/media/exit.3ac220a8.svg";var J=function(e){var t=e.settingsOpen,n=e.onToggleSettings,a=c.a.useState(3),s=Object(o.a)(a,2),i=s[0],l=s[1],u=c.a.useState(9999),d=Object(o.a)(u,2),h=d[0],b=d[1],m=c.a.useState(0),g=Object(o.a)(m,2),x=g[0],p=g[1],v=c.a.useState([]),f=Object(o.a)(v,2),O=f[0],w=f[1],N=Object(r.b)(),y=c.a.useRef(null);return c.a.useEffect((function(){(function(){var e=Object(_.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C()({method:"GET",url:"http://127.0.0.1:8000/api/genre/all/"});case 3:t=e.sent,n=t.data,w(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Oops!!! ".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(M.jsxs)("div",{className:"".concat(A.a.overlay," ").concat(t?A.a.overlayVisible:""),children:[Object(M.jsxs)("div",{className:"".concat(A.a.settings," p-4"),children:[Object(M.jsxs)("div",{className:"d-flex justify-content-between pb-4",children:[Object(M.jsx)("h3",{children:"Settings:"}),Object(M.jsx)("img",{onClick:n,className:"my-auto  ".concat(A.a.close),width:24,height:24,src:H,alt:"Exit"})]}),Object(M.jsx)("h1",{children:" Wheel settings!"}),Object(M.jsxs)("form",{ref:y,id:"settingsForm",onSubmit:function(){return!1},action:"?",children:[Object(M.jsx)(L,{name:"Count Games:",myValue:i,maxValue:20,minValue:3,changeValue:l}),Object(M.jsx)(F,{name:"Price:",leftValue:x,rightValue:h,maxValue:9999,minValue:0,changeLeftValue:p,changeRightValue:b}),Object(M.jsxs)("div",{className:"row mb-3 ",children:[Object(M.jsx)("label",{children:"Genres:"}),Object(M.jsx)("select",{className:"",multiple:!0,name:"genres",children:O.length&&O.map((function(e){return Object(M.jsx)("option",{children:e.genre},e.id)}))})]})]}),Object(M.jsx)("div",{className:"row",children:Object(M.jsx)("button",{type:"submit",onClick:function(){if(i>=3&&i<=20&&h>=x&&h<=9999&&x>=0){var e,t=[],a=Object(G.a)(y.current.elements.genres);try{for(a.s();!(e=a.n()).done;){var c=e.value;c.selected&&t.push(encodeURIComponent(c.value))}}catch(r){a.e(r)}finally{a.f()}var s={countGames:i,priceLess:h,priceMore:x,genres:t.join(",")};N(j(s)),n()}else console.log("Form is not valid!!! Please try again")},className:"btn btn-dark",children:"Submit"})})]}),Object(M.jsx)("div",{onClick:n,className:A.a.outside})]})};var z=function(e){var t=e.games,n=e.spinningTime,a=c.a.useRef(null);return c.a.useEffect((function(){!function(e){for(var t=a.current,n=t.getContext("2d"),c=t.width/2,s=c,i=c,r=2*Math.PI/e,l=0;l<e;l++){n.beginPath(),n.moveTo(s,i),n.arc(s,i,c,l*r,(l+1)*r,!1),n.lineWidth=c;var o=15*l;n.fillStyle="hsl("+o+",70%, 60%)",n.fill(),n.lineWidth=2,n.strokeStyle="#444",n.stroke(),n.closePath()}}(t.length),function(e){var t=a.current,n=t.getContext("2d"),c=t.width/2,s=c,i=c;n.font="20px Helvetica",n.textAlign="left",n.fillStyle="white",n.save(),n.translate(s,i);var r=360/e.length;n.rotate(-r/2*Math.PI/180);for(var l=0;l<e.length;l++){var o=e[l].name;o.length>18&&(o=o.slice(0,15)+"..."),n.strokeText(o,50,5,c-50),n.fillText(o,50,5,c-50),n.rotate(-r*Math.PI/180)}n.restore()}(t)}),[t]),Object(M.jsx)("canvas",{id:"wheel-canvas",className:"m-auto d-block ",width:500,height:500,ref:a,style:{transition:"all cubic-bezier(0.23, 0.64, 0.36, 1) ".concat(n)}})},Y=n(26),K=n.n(Y);var U=function(e){var t=e.game,n=e.picHeight,a=void 0===n?100:n,c=e.descriptionCollapse,s=void 0!==c&&c;return Object(M.jsxs)("div",{className:"flex-column p-2 ".concat(K.a.gameDesc),children:[Object(M.jsx)("img",{className:"mx-auto d-block my-3 ",height:a,src:"https://steamcdn-a.akamaihd.net/steam/apps/".concat(t.appid,"/header.jpg"),alt:"Rolled game"}),Object(M.jsx)("h3",{children:t.name}),s&&Object(M.jsx)("button",{className:"btn btn-light d-block p-1 w-100 mx-auto mb-2",type:"button","data-bs-toggle":"collapse","data-bs-target":"#gameDesc".concat(t.appid),"aria-expanded":"false","aria-controls":"gameDesc".concat(t.appid),children:"Toggle description"}),Object(M.jsxs)("div",{className:s?"collapse":"",id:s?"gameDesc".concat(t.appid):"",children:[Object(M.jsxs)("p",{children:[" BruhPoints: ",t.bruh_points]}),Object(M.jsxs)("p",{children:[" Positive reviews: ",t.possitive_count," "]}),Object(M.jsxs)("p",{children:[" Negative reviews: ",t.negative_count," "]}),Object(M.jsxs)("p",{children:[" Metascore: ",t.metascore," "]}),Object(M.jsxs)("p",{children:[" Sold copies: ",t.owners_count," "]}),Object(M.jsxs)("p",{children:[" Price: ",t.price," Rub"]}),Object(M.jsxs)("p",{children:[" Developer: ",t.developer," "]}),Object(M.jsxs)("p",{children:[" Publisher: ",t.publisher," "]}),Object(M.jsxs)("p",{children:[" Duration: ",t.duration," ",t.time_unit," ",t.label]}),Object(M.jsxs)("p",{children:[" HLTB: ",Object(M.jsxs)("a",{className:"link-light",rel:"noreferrer",href:t.hltb_link,target:"_blank",children:[" ",t.name]}),"  "]}),Object(M.jsxs)("p",{children:[" Steam: ",Object(M.jsxs)("a",{className:"link-light",rel:"noreferrer",href:"https://store.steampowered.com/app/".concat(t.appid),target:"_blank",children:[" ",t.name," "]})]}),Object(M.jsxs)("p",{children:[" Languages: ",t.languages.join(", ")," "]}),Object(M.jsxs)("p",{children:[" Genres: ",t.genres.join(", ")," "]}),Object(M.jsxs)("p",{children:[" Tags: ",t.tags.join(", ")," "]})]})]})};var X=function(){var e=c.a.useState(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],s=c.a.useState([]),i=Object(o.a)(s,2),l=i[0],u=i[1],d=c.a.useState(0),j=Object(o.a)(d,2),h=j[0],b=j[1],m=Object(r.c)((function(e){return e.settings.value})),p=Object(r.c)((function(e){return e.roll.value})),v=Object(r.c)((function(e){return e.winner.value})),f=Object(r.b)();return c.a.useEffect((function(){!0!==p&&l.length||function(){var e=Object(_.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C()({method:"GET",url:m});case 3:t=e.sent,n=t.data,u(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Cant get games with the given parameters! ".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[m,p]),c.a.useEffect((function(){if(!0===p){var e=(c=0,s=l.length-1,Math.floor(Math.random()*(s-c+1)+c)),t=function(e,t,n,a){var c=Math.floor(Math.random()*(t-e))+e,s=360/n*a,i=360/n*(a+1);return(c*=360)+(Math.floor(Math.random()*(i-s))+s)+1}(10,30,l.length,e),n=h+t;document.getElementById("wheel-canvas").style.transform="rotate("+n+"deg)";var a=~~(n%360/(360/l.length));setTimeout((function(){f(g()),f(O(a))}),5e3),b(n)}var c,s}),[l]),Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(J,{onToggleSettings:function(){return a(!1)},settingsOpen:n}),Object(M.jsx)(P,{onToggleSettings:function(){return a(!0)}}),Object(M.jsx)("div",{className:"container-fluid bg-gradient text-light bg-dark",children:Object(M.jsxs)("div",{className:"row",children:[Object(M.jsxs)("div",{id:"leftColumn",className:"col-lg-3 ",children:[Object(M.jsx)("h2",{className:"text-center pb-4",children:"Rolled game"}),Object(M.jsx)("div",{className:"shadowBox winnerGame ".concat(p?"":"winnerGameVisible"),children:v>=0?Object(M.jsx)(U,{game:l[v],picHeight:window.innerWidth>=1400?140:window.innerWidth>=1200?120:window.innerWidth>=992?90:window.innerWidth>=768?250:window.innerWidth>=576?200:100,descriptionCollapse:!1}):""})]}),Object(M.jsxs)("div",{id:"midColumn",className:"col-lg-6 mb-4",children:[Object(M.jsx)("h2",{className:"text-center pb-4",children:"Wheel"}),Object(M.jsxs)("div",{className:"shadowBox p-3 position-relative w-100 ",children:[Object(M.jsx)(z,{spinningTime:"5s",games:l}),Object(M.jsx)("button",{onClick:function(){return f(x())},className:"rollButton btn p-0 ".concat(p?"rollButtonNotActive":""),children:p?"Rolling":"Roll"})]})]}),Object(M.jsxs)("div",{id:"rightColumn",className:"col-lg-3 col",children:[Object(M.jsx)("h2",{className:"text-center pb-4",children:"Game list"}),Object(M.jsx)("div",{className:"shadowBox",children:l.length?l.map((function(e){return Object(M.jsx)(U,{game:e,picHeight:100,descriptionCollapse:!0},e.appid)})):""})]})]})}),Object(M.jsx)(R,{})]})};i.a.render(Object(M.jsx)(c.a.StrictMode,{children:Object(M.jsx)(r.a,{store:N,children:Object(M.jsx)(X,{})})}),document.getElementById("root"))},7:function(e,t,n){e.exports={overlay:"SettingsCanvas_overlay__3tMbo",settings:"SettingsCanvas_settings__3LEWi",outside:"SettingsCanvas_outside__1nfoK",overlayVisible:"SettingsCanvas_overlayVisible__2iL1V",close:"SettingsCanvas_close__Tn6DG"}}},[[59,1,2]]]);
//# sourceMappingURL=main.0e3be235.chunk.js.map